#include <stdio.h>
#include <string.h>
#include <stdlib.h>

char *reverse(const char *str1);

int main(void) {
    char text[50] = "Hello World";
    char *out;

    out = reverse(text);
    printf("%s\n", out);

    free(out);
    return 0;
}

char *reverse(const char *str1) {
    int S = strlen(str1);

    // จองหน่วยความจำให้พอดีกับสตริง + '\0'
    char *text = (char *)malloc((S + 1) * sizeof(char));

    if (text == NULL) {
        return NULL;
    }

    for (int i = 0; i < S; i++) {
        text[i] = str1[S - 1 - i];
    }

    text[S] = '\0';
    return text;
}
